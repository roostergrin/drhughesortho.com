.menu
  position: relative
  width: 100%
  height: 100%

  &__container
    // @extend .flex-container-lg
    display: flex
    position: absolute
    top: 50%
    left: 50%
    flex-wrap: wrap
    justify-content: center
    transform: translate(-50%, -50%)
    margin: 0 auto
    padding: 1rem
    width: 100%
    // remove max-width to not break wrap at higher widths
    max-width: none

  &__tagline
    position: relative
    margin-bottom: 32px
    text-align: center
    text-transform: uppercase
    letter-spacing: 0
    white-space: nowrap
    color: $white
    font-size: 62px
    font-weight: 700

  &__appointment
    display: inline-block
    position: relative
    transition: all 0.4s ease-in-out
    border-radius: 1px
    box-shadow: 0 3px 6px 0 rgba(35, 35, 35, 0.36)
    background: $limegreen
    padding: 18px
    text-transform: uppercase
    letter-spacing: 0.5px
    color: $white
    font-size: 16px

    &:hover
      box-shadow: none
      background: $forestgreen
      cursor: pointer

  &__overlay
    position: absolute
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    z-index: 10

    &--short
      top: 65%

  &__title
    // @extend h1
    &--white
      color: $limegreen

  &__link-video
    position: absolute
    width: 100%
    height: 100%
    object-fit: cover !important

  &__link-container-video,
  &__link-container-image
    position: relative
    transition: transform .55s ease-in-out, opacity .35s ease-in-out
    background: $limegreen
    background-repeat: no-repeat
    background-position: top
    background-size: cover
    width: 100%
    height: 100%
    overflow: hidden

    &--disabled
      pointer-events: none

    .menu__link-wrapper &
      opacity: 1

    .menu__link-wrapper--current &
      opacity: 1

    &:hover
      cursor: pointer

      .menu__link
        //sass-lint:disable-all
        color: $lightgray
        // sass-lint:enable-all

  &__link-overlay
    position: absolute
    top: 0
    left: 0
    transition: opacity .25s ease-in-out .85s
    opacity: 1
    background: rgba($black, .35)
    width: 100%
    height: 100%

  &__link
    position: absolute
    bottom: 10%
    left: 50%
    transform: translateX(-50%)
    transition: opacity .25s ease-in-out .85s
    opacity: 1
    cursor: pointer
    padding-top: .8rem
    padding-bottom: 6px
    text-transform: uppercase
    letter-spacing: 2px
    white-space: nowrap
    color: $white
    font-size: 24px
    font-weight: 600

    &:hover
      transition: color .35s ease-in-out
      //sass-lint:disable-all
      color: lighten($limegreen, 40)
      // sass-lint:enable-all

  &__link-wrapper
    display: flex
    position: relative
    // transition z-index to delay current class being removed - avoids thumbs displaying while fading
    transition: transform .85s cubic-bezier(.51, .92, .24, 1) .35s, padding .25s ease-in-out .85s, z-index .35s linear .35s
    z-index: 1
    padding: .5rem

    &--current
      z-index: 9

    &.not-active
      animation: fad .35s ease-in-out forwards .85s
      opacity: 0

      @keyframes fad
        0%
          opacity: 0
        100%
          opacity: 1

    &.active
      transition: padding .35s ease-in-out, transform .65s ease-in-out .35s
      padding: 0
      // opacity: 1
      pointer-events: none

      .menu__link,
      .menu__link-overlay,
      .menu__submenu
        transition: opacity .35s ease-in-out
        opacity: 0

      .menu__link-expanded-overlay
        position: absolute
        top: 0
        transition: background .35s ease-in-out
        background: linear-gradient(180deg, rgba($black, .25), transparent)
        width: 100%
        height: 100%

      // where the magic happens transform 4x large, and translate to center before expanding
      &:first-child
        transform: translate(100%, 50%) matrix(4, 0, 0, 4, 0, 0)


      &:nth-child(2)
        transform: translate(0, 100%) matrix(3.999999, 0, 0, 3.999999, 0, 0)


      &:nth-child(3)
        transform: translate(-100%, 50%) matrix(4, 0, 0, 4, 0, 0)


      &:nth-child(4)
        transform: translate(100%, -50%) matrix(4, 0, 0, 4, 0, 0)


      &:nth-child(5)
        transform: translate(0, -50%) matrix(4, 0, 0, 4, 0, 0)


      &:nth-child(6)
        transform: translate(-100%, -50%) matrix(4, 0, 0, 4, 0, 0)

  &__link-expanded-overlay
    position: absolute
    transition: background .35s ease-in-out
    background: linear-gradient(180deg, rgba($black, .25), transparent)
    width: 100%
    height: 100%

  &__submenu
    display: flex
    position: relative
    flex-direction: column
    transition: opacity .25s ease-in-out 1.15s
    margin-left: 2rem
    cursor: pointer
    padding-top: .5rem

    &-link
      transition: color .35s ease-in-out
      letter-spacing: .4px
      color: $white
      font-size: 16.4px

      &:hover
        transition: color .35s ease-in-out
        //sass-lint:disable-all
        color: lighten($limegreen, 40)
        // sass-lint:enable-all

      @media screen and (max-height: 580px)
        &:nth-child(4)
          display: none

      @media screen and (max-height: 520px)
        &:nth-child(3),
        &:nth-child(4)
          display: none

      @media screen and (max-height: 462px)
        display: none


  &__social-links
    position: absolute
    top: 50%
    right: 8%
    transform: translateY(-50%)

  &__facebook,
  &__instagram
    display: block
    margin: 9px 0
    svg
      transition: all 0.4s ease-in-out
      width: 45px
      fill: $teamgrey

      &:hover
        fill: $lightgray

  &__phone
    padding: 8px

  &__mail
    padding: 12px 6px

    // &:hover
    //
    //   .ig-phil
    //     transition: all .25s ease-in-out
    //     fill: $limegreen
    //
    //   svg
    //     transition: fill .25s ease-in-out
    //     fill: $limegreen

  &__appt
    position: absolute
    top: 100%
    left: 50%
    transform: translate(-50%, 100%)
    transition: opacity .25s ease-in-out
    opacity: 1
    z-index: 11
    max-height: 48px
    pointer-events: none

    span
      letter-spacing: 2px
      font-size: 16px
      font-weight: 600

    &-icon
      // extended shadow transition to wait for circle to collapse
      transition: all .55s ease-in-out
      border-radius: 50%
      box-shadow: 0 2px 4px 0 rgba($black, .33)

      svg
        .line
          fill: $white

    &:hover
      // quickly remove box-shadow as bg expands
      .menu__appt-icon
        transition: box-shadow .15s ease-in-out
        box-shadow: none

    &:active
      box-shadow: none

    &--is-visible
      transition: opacity .35s ease-in-out 1.3s
      opacity: 1
      pointer-events: auto

    &--white
      border: 1px solid $white

      &:after
        background: $limegreen

      @media (hover: hover)
        &:hover
          border: 1px solid $limegreen

      .menu__appt-icon
        svg
          fill: $limegreen

  &__waypoint
    position: absolute
    top: 50vh
